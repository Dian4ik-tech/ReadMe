<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title> Laukums. </title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <script>
                function shuffle(array) {
                    var currentIndex = array.length, temporaryValue, randomIndex;

                    // While there remain elements to shuffle...
                    while (0 !== currentIndex) {

                      // Pick a remaining element
                      randomIndex = Math.floor(Math.random() * currentIndex);
                      currentIndex -= 1;

                      // And swap it with the current element.
                      temporaryValue = array[currentIndex];
                      array[currentIndex] = array[randomIndex];
                      array[randomIndex] = temporaryValue;
                    }

                    return array;
                  }
                
                var count = 0;
                var new_array = new Array;
                var characters_1 = {"阿姨":"āyí", "啊":"a","矮": "ǎi", "爱":"ài",
                    "爱好":"àihào","安静":"ānjìng","班":"bān","半":"bàn","办法":"bànfǎ","帮忙":"bāngmáng"};
                var characters = ["阿姨", "啊", "矮", "爱", "爱好", "安静","班", "半", "办法", "帮忙"];
                var pinyin = [ "āyí", "a", "ǎi", "ài","àihào", "ānjìng","bān","bàn", "bànfǎ", "bāngmáng"];//
            function myFunction() {
                if (count!==0) { 
                    var list = document.getElementsByClassName("ButtOn");
                    for(var i = 0; i<list.length; i++){
                       list[i].style.display = 'none'; 
                    }
                    //document.getElementsByClassName("fDiv").removeChild(document.getElementsByClassName("fDiv")[0]);}
//                if(document.body.contains(document.getElementsByClassName('fDiv'))){
//                    document.getElementsByClassName("fDiv").remove();
                }//clears the screen sarting from second onclick
                
                var number = document.getElementById("fname").value;
                document.getElementById('fname').value = '';//clears the textbox
//              console.log(number);
                if(number%2===0){
                    var final_div = document.createElement("div");
                    final_div.className = "fDiv";
                    var number_array = [2,2];
                    var numb_array = [];
                    for(var n=0;n < Math.floor(number*number/2);n++){
                                do{
                                   var rnd = Math.floor(Math.random()*10);  
                                }while(number_array.includes(rnd))
                                number_array.push(rnd);
                                number_array.push(rnd);
                                //console.log(rnd);
                            }//creates the array with numbers, where every number is reapeated twice
                    var new_array = shuffle(number_array);
                    //var new_array = number_array;
                    for (j=0; j< number;j++){
       //               var nosauk="lauk"+j;
                        var newDiv = document.createElement("div");
                        for (i = 0; i < number; i++) {
                            let button = document.createElement('BUTTON');
                            
                            button.className = "ButtOn";
                            //
    //                        while(rand_numbers!==rand||rand_numbers[rand]<2){
    //                            var rand = Math.random() * number;
    //                            rand_numbers[rand]+=1;
    //                        }
                            //console.log(j*number+i);
                            var numb = new_array[j*number+i];
                            
//                            if(numb_array.includes(numb)&&numb_array.includes(numb*10)){
//                                
//                            }else 
                            if(numb_array.includes(numb)){
                                var text = document.createTextNode(pinyin[numb]);
                                numb_array.push(numb*10);
                            }else{
                                var text = document.createTextNode(characters[numb]);
                                //button.innerHTML = '<img src="images/"+characters[numb]+".jpg"]>';
                                numb_array.push(numb);
                            }
                            console.log(numb_array);
                            var odd_or_even = 1;
                            button.onclick = ()=>{
                                console.log(numb);
                                var ore = odd_or_even%2;
                                button.style.backgroundColor="white";
                                if(ore==0){
                                    var first =new_array.pop();
                                    var second= new_array.pop();
                                    console.log(first);
                                    console.log(second);
                                    if(first!==second){
                                        setTimeout(function(){
                                    button.style.backgroundColor = "black";
                                },500);
                                    }
                                }
                                else{
                                    new_array.push(numb);
                                }
                                
                                
                                //console.log(odd_or_even);
                                odd_or_even++;
                            }
                            
                            button.appendChild(text);
                            newDiv.appendChild(button);
                            
                        }       
                        final_div.appendChild(newDiv);
                        document.body.appendChild(final_div); 
                        var percents=Math.floor(screen.height/number)-10;
                        var buttons = document.getElementsByClassName("ButtOn");
//                        console.log(buttons.length);
                        
                        
                    };
                    for(var i = 0; i<buttons.length; i++){
                        buttons[i].style.width = percents+"px";
                        buttons[i].style.height = percents+"px";
                        buttons[i].style.backgroundColor="black";
                        buttons[i].id="button"+(i);
                        console.log(buttons[i].id);
                    } 
                }
            
                count++;
            }</script>         
    </head>
    <body>
        <div id="laukums">          
            <label for="fname">Ievadi pāro skaitli:</label>
            <input type="text" id="fname" name="fname"><br><br>
            <button onclick="myFunction()" >Try it</button> 
        </div>
        
<!--        <div class="btn-group">
            <button style="width:50%">Apple</button>
            <button style="width:50%">Sony</button>
        </div>
    </body>
<!---->
</html>
